import{S as H,P as R,W as k,h as X,D as j,i as I,H as G,j as O,d as V,k as v,l as Z,m as K,n as U,R as _,b as q,G as J,A as N,o as Q,V as A,C as $}from"./GLTFLoader-Bgbh2E58.js";let l,a,h,f,E=1,s=null,g=null,ee=new $,T=1,c=!1,z=0,S;const C=300;let m=0,w=0,D=0,W=0;const Y=.2;let p=2;const te=.1,ne=25;function ie(){l=new H,a=new R(60,window.innerWidth/window.innerHeight,.1,2e3),a.position.set(0,0,150),f=document.getElementById("container"),h=new k({antialias:!0,powerPreference:"high-performance",logarithmicDepthBuffer:!0}),h.setSize(f.clientWidth,f.clientHeight),h.setPixelRatio(Math.min(window.devicePixelRatio,2)),f.appendChild(h.domElement),l.add(new X(4210752,.8));const e=new j(16777215,1);e.position.set(10,20,10),l.add(e);const t=new I(16777215,1,100);t.position.set(5,10,-5),l.add(t);const n=new G(16777147,526368,.6);l.add(n),oe(),window.addEventListener("resize",se),window.addEventListener("wheel",re,{passive:!1}),window.addEventListener("keydown",ce),window.addEventListener("click",i=>x(i,!1)),window.addEventListener("dblclick",i=>x(i,!0)),window.addEventListener("mousemove",de),window.addEventListener("mouseup",B),window.addEventListener("touchend",fe,{passive:!1}),window.addEventListener("touchmove",le,{passive:!1});const o=document.getElementById("animationSpeed");o&&o.addEventListener("input",i=>{T=parseFloat(i.target.value)}),ae(),F()}function oe(){const e=new O,t=5e3,n=new Float32Array(t*3),o=new Float32Array(t*3),i=[16777215,8369151,10320895,6130431,12681215];for(let u=0;u<t;u++){const r=u*3,L=2e3+Math.random()*200,P=Math.random()*Math.PI*2,y=Math.acos(2*Math.random()-1);n[r]=L*Math.sin(y)*Math.cos(P),n[r+1]=L*Math.sin(y)*Math.sin(P),n[r+2]=L*Math.cos(y);const b=new V(i[Math.floor(Math.random()*i.length)]);o[r]=b.r,o[r+1]=b.g,o[r+2]=b.b}e.setAttribute("position",new v(n,3)),e.setAttribute("color",new v(o,3));const d=new Z({size:1,sizeAttenuation:!0,vertexColors:!0,transparent:!0,opacity:.8,blending:K}),M=new U(e,d);l.add(M)}function ae(){new J().load("/assets/models/AnothEarth.glb",n=>{s=n.scene,s.traverse(r=>{(r.isLine||r.isLight)&&(r.visible=!1)}),l.add(s),n.animations&&n.animations.length>0&&(g=new N(s),n.animations.forEach(r=>{g.clipAction(r).play()}));const o=new Q().setFromObject(s),i=o.getCenter(new A);s.position.set(-i.x,-i.y,-i.z),ue();const d=o.getSize(new A),u=Math.max(d.x,d.y,d.z)*10;a.position.set(0,0,u),a.near=.1,a.far=u*5,a.updateProjectionMatrix()})}function se(){a.aspect=f.clientWidth/f.clientHeight,a.updateProjectionMatrix(),h.setSize(f.clientWidth,f.clientHeight)}function re(e){if(e.preventDefault(),e.ctrlKey){const t=e.deltaY>0?.9:1.1;a.position.multiplyScalar(t)}else p+=e.deltaY*-.001,p=Math.max(te,Math.min(ne,p))}function ce(e){e.code==="Space"&&(e.preventDefault(),c=!c)}function x(e,t=!1){const n=new _,o=new q,i=e.clientX||e.touches&&e.touches[0].clientX,d=e.clientY||e.touches&&e.touches[0].clientY;i===void 0||d===void 0||(o.x=i/window.innerWidth*2-1,o.y=-(d/window.innerHeight)*2+1,n.setFromCamera(o,a),!s)||n.intersectObject(s,!0).length===0||(t?c=!c:document.getElementById("planetInfo").classList.toggle("visible"))}function de(e){if(c){const t=e.clientX/window.innerWidth*2-1,n=e.clientY/window.innerHeight*2-1;m+=(t-m)*.1,w+=(n-w)*.1}}function le(e){if(c&&e.touches.length>0){const t=e.touches[0];m=t.clientX/window.innerWidth*2-1,w=t.clientY/window.innerHeight*2-1}}function B(){c&&(m=0,w=0)}function fe(e){const t=new Date().getTime(),n=t-z;clearTimeout(S),n<C&&n>0?x(e,!0):S=setTimeout(()=>{x(e,!1)},C),z=t,B()}function ue(){s&&s.scale.set(E,E,E)}function F(){if(requestAnimationFrame(F),g&&!c){const e=ee.getDelta()*T;g.update(e)}a.zoom+=(p-a.zoom)*.1,c&&s&&(D=-w*Y*.5,W=m*Y*.5,s.rotation.x=D,s.rotation.y=W),a.updateProjectionMatrix(),h.render(l,a)}ie();
